<div class="w3-row" id="backgroundDiv">

  <div class="w3-col l2">&nbsp;</div>

  <div class="w3-col s12 m12 l8 mat-elevation-z8 container centered">
    <h3 mat-dialog-title>Product code: {{product.code}}</h3>

    <form class="mat-dialog-content" (ngSubmit)="submit()" #formControl="ngForm">

      <div class="form">
        <mat-form-field color="accent">
          <input type="text" matInput #input pattern="[0-9]*" class="form-control" placeholder="Code" [(ngModel)]="product.code" name="code" required >
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        </mat-form-field>
      </div>

      <!--Textarea for demo purposes-->
      <div class="form">
        <mat-form-field color="accent">
          <input matInput #input class="form-control" placeholder="Name" [(ngModel)]="product.name" name="name" required>
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        </mat-form-field>
      </div>

      <!--Contains mat-hint for characters count and has maxLengt set-->
      <div class="form">
        <mat-form-field color="accent">
          <input matInput #inputstate class="form-control" placeholder="Category" [(ngModel)]="product.category" name="category" required >
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          <!--
                  <mat-hint align="end">{{inputstate.value?.length || 0}}/10</mat-hint>
          -->
        </mat-form-field>
      </div>

      <div class="form">
        <mat-form-field color="accent">
          <input matInput min="0" placeholder="Quantity" [(ngModel)]="product.quantity" name="quantity">
        </mat-form-field>
      </div>

      <div class="form">
        <mat-form-field color="accent">
          <mat-select [(ngModel)]="product.unit" name="unit" placeholder="Unit">
            <mat-option *ngFor="let unit of units" [value]=unit>
              {{unit}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <button mat-button [type]="submit" [disabled]="!formControl.valid || isCodeInvalid(product.code)" (click)="saveAndGoBack()">Save</button>
      <button mat-button (click)="goBack()" tabindex="-1">Cancel</button>
    </form>
  </div>

  <div class="w3-col l2">&nbsp;</div>
</div>
